linstor-proxmox (8.0.0~rc.1-1) experimental; urgency=medium

  * show diskless disks in "VM Disks"
  * allow reassigning disks
  * test: add simple test script
  * api: also check for APIAGE
  * add online mv storage
  * fix spelling
  * set allow-two-primaries in RD creation

 -- Roland Kammerer <roland.kammerer@linbit.com>  Thu, 04 Apr 2024 16:35:47 +0200

linstor-proxmox (7.0.1-1) experimental; urgency=medium

  * New upstream release

 -- Roland Kammerer <roland.kammerer@linbit.com>  Thu, 15 Jun 2023 09:18:57 +0200

linstor-proxmox (7.0.1~rc.1-1) experimental; urgency=medium

  [ Roland Kammerer ]
  * build: check PLUGIN_VERSION
  * fix performance regression in status calls
  * invalidate cache on early boot

 -- Roland Kammerer <roland.kammerer@linbit.com>  Wed, 24 May 2023 10:30:47 +0200

linstor-proxmox (7.0.0-1) experimental; urgency=medium

  * New upstream release

 -- Roland Kammerer <roland.kammerer@linbit.com>  Wed, 12 Apr 2023 10:26:52 +0200

linstor-proxmox (7.0.0~rc.1-1) experimental; urgency=medium

  [ Roland Kammerer ]
  * use DRBD_DISKLESS as flag
  * status: show cluster wide view

 -- Roland Kammerer <roland.kammerer@linbit.com>  Thu, 23 Mar 2023 08:08:40 +0100

linstor-proxmox (6.1.0-1) experimental; urgency=medium

  * New upstream release

 -- Roland Kammerer <roland.kammerer@linbit.com>  Tue, 11 Oct 2022 13:11:46 +0200

linstor-proxmox (6.1.0~rc.1-1) experimental; urgency=medium

  [ dori ]
  * allow multiple SPs in RG

  [ Roland Kammerer ]
  * rm unneeded ';'
  * CHANGELOG.md: update with unreleased changes

 -- Roland Kammerer <roland.kammerer@linbit.com>  Tue, 04 Oct 2022 13:49:14 +0200

linstor-proxmox (6.0.1-1) experimental; urgency=medium

  * New upstream release

 -- Roland Kammerer <roland.kammerer@linbit.com>  Tue, 12 Jul 2022 09:22:40 +0200

linstor-proxmox (6.0.1~rc.1-1) experimental; urgency=medium

  * container clone: only create if necessary; rm on snapshot rm
  * resize: rm sleep(10)

 -- Roland Kammerer <roland.kammerer@linbit.com>  Tue, 05 Jul 2022 09:35:02 +0200

linstor-proxmox (6.0.0-1) experimental; urgency=medium

  * New upstream release

 -- Roland Kammerer <roland.kammerer@linbit.com>  Tue, 28 Jun 2022 09:46:13 +0200

linstor-proxmox (6.0.0~rc.1-1) experimental; urgency=medium

  * rm redundancy settings
  * rm controllervm setting
  * keep status cache for 1min by default
  * preferlocal: set default to yes
  * CHANGELOG.md: update with unreleased changes

 -- Roland Kammerer <roland.kammerer@linbit.com>  Thu, 16 Jun 2022 14:35:51 +0200

linstor-proxmox (5.2.2-1) experimental; urgency=medium

  * APIVER: 10

 -- Roland Kammerer <roland.kammerer@linbit.com>  Thu, 18 Nov 2021 09:00:29 +0100

linstor-proxmox (5.2.1-1) experimental; urgency=medium

  * APIVER: 9

 -- Roland Kammerer <roland.kammerer@linbit.com>  Thu, 29 Jul 2021 09:39:35 +0200

linstor-proxmox (5.2.0-1) experimental; urgency=medium

  [ JÃ¡n Stibila ]
  * Secure and restrict REST-API connection

  [ Roland Kammerer ]
  * fix UEFI disks

 -- Roland Kammerer <roland.kammerer@linbit.com>  Thu, 08 Jul 2021 14:59:46 +0200

linstor-proxmox (5.1.6-1) experimental; urgency=medium

  * set User-Agent header
  * status: add extra cache

 -- Roland Kammerer <roland.kammerer@linbit.com>  Thu, 17 Jun 2021 12:55:38 +0200

linstor-proxmox (5.1.5-1) experimental; urgency=medium

  * debian: rm linstor-client dep
  * config: allow multiple controllers

 -- Roland Kammerer <roland.kammerer@linbit.com>  Wed, 17 Feb 2021 14:44:55 +0100

linstor-proxmox (5.1.4-1) experimental; urgency=medium

  * rm wait_connect_resource, now builtin
  * APIVER: 7 & 8: both are fine for us

 -- Roland Kammerer <roland.kammerer@linbit.com>  Thu, 19 Nov 2020 11:09:09 +0100

linstor-proxmox (5.1.3-1) experimental; urgency=medium

  * build: check for $(VERSION) in debian/changelog
  * APIVER: 6

 -- Roland Kammerer <roland.kammerer@linbit.com>  Mon, 31 Aug 2020 14:35:13 +0200

linstor-proxmox (5.1.2-1) experimental; urgency=medium

  * APIVER: support 4 and 5
  * linstor-proxmox version 5.0.2
  * add note about tie-breaker nodes
  * snapshot: annotate error msgs with function names
  * snapshot: add rollback
  * add restore_snapshot
  * add backup via snapshot
  * linstor-proxmox version 5.1.0
  * delete tmp res on snapshot_delete
  * linstor-proxmox version 5.1.1

 -- Roland Kammerer <roland.kammerer@linbit.com>  Tue, 23 Jun 2020 11:49:50 +0200

linstor-proxmox (5.0.2-1) experimental; urgency=medium

  * APIVER: support 4 and 5

 -- Roland Kammerer <roland.kammerer@linbit.com>  Thu, 14 May 2020 10:17:18 +0200

linstor-proxmox (5.0.1-1) experimental; urgency=medium

  * add back 'nodes' option

 -- Roland Kammerer <roland.kammerer@linbit.com>  Wed, 25 Mar 2020 15:35:40 +0100

linstor-proxmox (5.0.0-1) experimental; urgency=medium

  * create: create storage locally if possible

 -- Roland Kammerer <roland.kammerer@linbit.com>  Tue, 24 Mar 2020 13:57:00 +0100

linstor-proxmox (4.1.2-1) experimental; urgency=medium

  * LINSTOR.pm: rm code duplication on create
  * LINSTOR.pm: add REST-API return code in err msgs
  * fix custom diskless pools

 -- Roland Kammerer <roland.kammerer@linbit.com>  Thu, 06 Feb 2020 11:30:34 +0100

linstor-proxmox (4.1.1-1) experimental; urgency=medium

  * status: do not cache the storage pool

 -- Roland Kammerer <roland.kammerer@linbit.com>  Mon, 18 Nov 2019 09:12:40 +0100

linstor-proxmox (4.1.0-1) experimental; urgency=medium

  * add support for resource groups

 -- Roland Kammerer <roland.kammerer@linbit.com>  Tue, 24 Sep 2019 13:16:44 +0200

linstor-proxmox (4.0.0-1) experimental; urgency=medium

  * implement APIVER 2
  * switch to REST-API
  * Linstor: saner defaults for not set variables
  * support APIVER 2 and 3 "on the fly"
  * poll in_use before delete
  * kvm: mark DRBD device as RW

 -- Roland Kammerer <roland.kammerer@linbit.com>  Fri, 09 Aug 2019 12:33:08 +0200

linstor-proxmox (3.0.4-1) experimental; urgency=medium

  [ Lars Ellenberg ]
  * confess when decode_json() fails, so that we have a backtrace

  [ Roland Kammerer ]
  * rd l -> vd l

 -- Roland Kammerer <roland.kammerer@linbit.com>  Mon, 15 Jul 2019 12:56:07 +0200

linstor-proxmox (3.0.3-1) experimental; urgency=medium

  * linstor-proxmox version 3.0.2-2
  * linstor-proxmox version 3.0.2-3
  * README.md: GH issues are fine
  * wait-connect-resource: handle 2 node clusters

 -- Roland Kammerer <roland.kammerer@linbit.com>  Mon, 25 Feb 2019 15:54:51 +0100

linstor-proxmox (3.0.2-3) experimental; urgency=medium

  * PM fixed API compat with libpve-storage-perl 5.0-32.
  * 5.0-31 was never in stable, pretend it never happened.

 -- Roland Kammerer <roland.kammerer@linbit.com>  Tue, 27 Nov 2018 16:02:04 +0100

linstor-proxmox (3.0.2-2) experimental; urgency=medium

  * PM broke the API with libpve-storage-perl 5.0-31, add a dependency

 -- Roland Kammerer <roland.kammerer@linbit.com>  Fri, 16 Nov 2018 10:26:47 +0100

linstor-proxmox (3.0.2-1) experimental; urgency=medium

  * create snapshot on all diskful nodes

 -- Roland Kammerer <roland.kammerer@linbit.com>  Tue, 13 Nov 2018 11:16:22 +0100

linstor-proxmox (3.0.1-1) experimental; urgency=medium

  [ Lars Ellenberg ]
  * fix regression that could remove ALL volumes on ONE vm destruction

 -- Roland Kammerer <roland.kammerer@linbit.com>  Fri, 12 Oct 2018 10:52:53 +0200

linstor-proxmox (3.0.0-1) experimental; urgency=medium

  [ Roland Kammerer ]
  * linstor-proxmox version 2.9.1
  * fix waiting until a resource is ready
  * debian: add drbd-utils dependency
  * deactivation: add hint if it is intentionally
  * rename linstorpool -> storagepool
  * debian: restart pvedaemon
  * resize: temporary fix for async behavior

  [ Lars Ellenberg ]
  * use quotemeta ("\Q$controller_vm\E") to prevent it from being interpre [...]
  * use $LINSTOR instead of /usr/bin/linstor; avoid qx{} "backtic" operator
  * drbd_exists_locally(): have linstor filter for resname and node; FIXME [...]
  * fix error message; add XXX use sysopen/sysread instead of dd
  * status "freespace" reporting: iterate over all storage pools
  * introduce linstorpool property
  * explicit storpoolname related improvements for status and list_images
  * fix activate/deactivate volume to not accidentally remove images

 -- Roland Kammerer <roland.kammerer@linbit.com>  Mon, 08 Oct 2018 11:15:09 +0200

linstor-proxmox (2.9.1-1) experimental; urgency=medium

  * Bugfix for GH #3

 -- Roland Kammerer <roland.kammerer@linbit.com>  Wed, 03 Oct 2018 17:03:18 +0200

linstor-proxmox (2.9.0-1) experimental; urgency=medium

  * README: DM -> LINSTOR
  * do not use colors/utf8 chars
  * propper size reporting
  * skip alloc_image if it is the controller volume

 -- Roland Kammerer <roland.kammerer@linbit.com>  Wed, 22 Aug 2018 14:16:46 +0200

linstor-proxmox (2.8-1) experimental; urgency=medium

  * linstor-proxmox: rework plugin

 -- Roland Kammerer <roland.kammerer@linbit.com>  Tue, 24 Jul 2018 10:40:11 +0200
